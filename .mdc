---
description: 
globs: 
alwaysApply: true
---
# MDC (Model-Driven Configuration) Rule for Gigachad Meme Rogue

# Project Configuration
project:
  name: "Gigachad Meme Rogue"
  type: "react-native-expo"
  platform: "rork"
  version: "1.0.0"

# Development Rules
development:
  # Code Quality Rules
  linting:
    - "Use TypeScript strict mode"
    - "Import React in all JSX files"
    - "Use proper type annotations"
    - "Follow component naming conventions"
  
  # File Structure Rules
  structure:
    - "Components in /components directory"
    - "Types in /types directory"
    - "Constants in /constants directory"
    - "Store logic in /store directory"
    - "App screens in /app directory"

  # State Management Rules
  state:
    - "Use Zustand for global state"
    - "Persist game state with AsyncStorage"
    - "Keep state normalized"
    - "Use proper TypeScript types for state"

# Game Configuration Rules
game:
  # Balance Rules
  balance:
    - "Player starting health: 80"
    - "Player starting energy: 3"
    - "Max hand size: 5"
    - "Path height: 7 nodes"
    - "Max path width: 4 nodes"
  
  # Hand System Rules
  hand_system:
    - "Every turn: discard all cards in hand"
    - "Redraw up to max hand size (3 cards)"
    - "Respect perks that modify hand size"
    - "No cards left in hand at end of turn"
  
  # Node Distribution Rules
  nodes:
    battle: 0.7
    shop: 0.05
    event: 0.1
    camp: 0.05
    shrine: 0.05
    blacksmith: 0.05
  
  # Equipment Rules
  equipment:
    - "All equipment slots start equipped with defaults"
    - "Players can only switch equipment, never unequip"
    - "Each equipment provides cards to the deck"
    - "Cards have energy costs and effects"
    - "Equipment affects player stats and abilities"
    - "Equipment can be upgraded at blacksmith"
  
  # Default Equipment Configuration
  default_equipment:
    weapon: "Gigachad Fists (Common)"
    head: "Basic Hat (Common)"
    offhand: "Basic Shield (Common)"
    chest: "Six-Pack Abs Armor (Common)"
    feet: "Basic Shoes (Common)"
    accessory1: "Protein Shake Necklace (Common)"
    accessory2: "Basic Ring (Common)"
  
  # Deck Building Rules
  deck_building:
    - "Deck is built from all equipped equipment"
    - "Starting deck includes cards from all 7 equipment slots"
    - "Deck is shuffled at start of each battle"
    - "Cards are drawn from draw pile, discarded to discard pile"
    - "When draw pile is empty, shuffle discard pile into draw pile"

# UI/UX Rules
ui:
  # Color Scheme
  colors:
    primary: "#FF6B35"
    secondary: "#4ECDC4"
    background: "#2C3E50"
    text: "#ECF0F1"
    success: "#27AE60"
    error: "#E74C3C"
    cardBackground: "#34495E"
  
  # Component Rules
  components:
    - "Use consistent spacing (8px base)"
    - "Use rounded corners (8px radius)"
    - "Implement proper touch targets"
    - "Use proper contrast ratios"
    - "Support dark/light themes"
    - "Show hand size in battle UI"
    - "Display equipment slots with current equipment"
    - "Use graded borders for equipment and cards"
    - "Show grade badges for uncommon+ items"
    - "Grade colors: Common (Gray), Uncommon (Green), Rare (Blue), Epic (Purple), Legendary (Orange)"

# Performance Rules
performance:
  - "Optimize re-renders with React.memo"
  - "Use proper key props in lists"
  - "Lazy load components when possible"
  - "Optimize images and assets"
  - "Minimize bundle size"
  - "Efficient card drawing and shuffling"

# Testing Rules
testing:
  - "Write unit tests for game logic"
  - "Test state management functions"
  - "Test component rendering"
  - "Test user interactions"
  - "Test hand system (discard and redraw)"
  - "Test equipment switching functionality"

# Deployment Rules
deployment:
  - "Use Rork platform for development"
  - "Configure proper bundle identifiers"
  - "Set up proper app icons"
  - "Configure splash screens"
  - "Set up proper navigation"

# Security Rules
security:
  - "Validate all user inputs"
  - "Sanitize data before storage"
  - "Use secure storage for sensitive data"
  - "Implement proper error handling"

# Accessibility Rules
accessibility:
  - "Use proper accessibility labels"
  - "Support screen readers"
  - "Provide alternative text for images"
  - "Use proper contrast ratios"
  - "Support keyboard navigation"
  - "Clear visual feedback for card interactions"

# Game Mechanics Rules
mechanics:
  # Turn System
  turn_system:
    - "Player turn: play cards, end turn"
    - "Enemy turn: enemy performs actions"
    - "Turn counter increments each cycle"
    - "Energy resets to max at start of player turn"
  
  # Battle System
  battle_system:
    - "Enemies have health, damage, and abilities"
    - "Player has health, energy, block, and strength"
    - "Cards can deal damage, provide block, or grant effects"
    - "Battle ends when enemy or player health reaches 0"
  
  # Card System
  card_system:
    - "Cards have energy cost, damage, block, and effects"
    - "Cards can have multiple hits"
    - "Cards can grant temporary strength"
    - "Cards are played from hand using energy"
    - "Played cards go to discard pile"
  
  # Equipment System
  equipment_system:
    - "Equipment provides cards to deck"
    - "Equipment can be switched but not unequipped"
    - "Equipment affects player capabilities"
    - "Equipment can be found in events or shops"
    - "Equipment has visual grading system"
  
  # Grading System
  grading_system:
    - "Equipment and cards have rarity grades"
    - "Grades: Common (Gray), Uncommon (Green), Rare (Blue), Epic (Purple), Legendary (Orange)"
    - "Grade affects border color and visual appearance"
    - "Grade badges shown for uncommon+ items"
    - "Basic equipment starts with common grade"
    - "Higher grade equipment provides better cards"
    - "Grade doesn't limit card power - basic equipment can have powerful cards"
